â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    HDBSCAN CLUSTERING PIPELINE FLOW ILLUSTRATION
                        CUMULATIVE TRAINING WITH VERSIONED STORAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## ğŸ—ï¸ OVERALL ARCHITECTURE OVERVIEW

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HYBRID CLOUD ARCHITECTURE WITH VERSIONING                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  AZURE FUNCTIONS â”‚    â”‚  AZURE FUNCTIONS â”‚    â”‚   AZURE VM       â”‚         â”‚
â”‚  â”‚   (Consumption)  â”‚    â”‚    (Premium)     â”‚    â”‚   (Training)     â”‚         â”‚
â”‚  â”‚                  â”‚    â”‚                  â”‚    â”‚                  â”‚         â”‚
â”‚  â”‚   PREPROCESSING  â”‚    â”‚   PREDICTION     â”‚    â”‚   CUMULATIVE     â”‚         â”‚
â”‚  â”‚   Every 1 Hour   â”‚    â”‚   Every 2 Hours  â”‚    â”‚   TRAINING       â”‚         â”‚
â”‚  â”‚                  â”‚    â”‚                  â”‚    â”‚  Semi-Annual     â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚           â”‚                        â”‚                        â”‚                  â”‚
â”‚           â–¼                        â–¼                        â–¼                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    VERSIONED STORAGE LAYER                             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚   BigQuery   â”‚  â”‚ Azure Blob   â”‚  â”‚ App Insights â”‚  â”‚ Key Vault   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  Versioned   â”‚  â”‚ Model Store  â”‚  â”‚  Monitoring  â”‚  â”‚  Secrets    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   Tables     â”‚  â”‚  Artifacts   â”‚  â”‚              â”‚  â”‚             â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

## ğŸ“Š DATA FLOW THROUGH PIPELINE

### STAGE 1: PREPROCESSING PIPELINE (HOURLY)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                               PREPROCESSING FLOW                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Timer Trigger (Every Hour)
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Check Watermarkâ”‚â”€â”€â”€â”€â–¶â”‚  Query BigQuery â”‚â”€â”€â”€â”€â–¶â”‚   New Incidents  â”‚
â”‚   Last Processed â”‚     â”‚   for New Data  â”‚     â”‚   Since Watermarkâ”‚
â”‚   Timestamp       â”‚     â”‚                 â”‚     â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                           â”‚
                                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Update Watermarkâ”‚â—€â”€â”€â”€â”€â”‚   Store Results â”‚â—€â”€â”€â”€â”€â”‚  Generate Summaryâ”‚
â”‚   Timestamp       â”‚     â”‚   to BigQuery   â”‚     â”‚   & Embeddings   â”‚
â”‚                   â”‚     â”‚                 â”‚     â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Tech Center Loop (15 Centers):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FOR EACH TECH CENTER:                                                          â”‚
â”‚                                                                                 â”‚
â”‚ 1. Get watermark: SELECT last_processed FROM watermarks                        â”‚
â”‚    WHERE tech_center = 'BT-TC-Product Development & Engineering'               â”‚
â”‚                                                                                 â”‚
â”‚ 2. Query new incidents:                                                        â”‚
â”‚    WHERE sys_created_on > watermark AND tech_center = 'BT-TC-...'             â”‚
â”‚                                                                                 â”‚
â”‚ 3. Text processing:                                                            â”‚
â”‚    short_description + description â†’ combined_incidents_summary                â”‚
â”‚                                                                                 â”‚
â”‚ 4. Generate embeddings:                                                        â”‚
â”‚    combined_incidents_summary â†’ semantic embedding (1536 dimensions)          â”‚
â”‚    Weights: entity=0.0, action=0.0, semantic=1.0                             â”‚
â”‚                                                                                 â”‚
â”‚ 5. Store in preprocessing table:                                               â”‚
â”‚    INSERT INTO preprocessing_pipeline.preprocessed_incidents                   â”‚
â”‚                                                                                 â”‚
â”‚ 6. Update watermark:                                                           â”‚
â”‚    UPDATE watermarks SET last_processed = CURRENT_TIMESTAMP()                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

### STAGE 2: PREDICTION PIPELINE (EVERY 2 HOURS)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                               PREDICTION FLOW                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Timer Trigger (Every 2 Hours)
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Load Trained     â”‚â”€â”€â”€â”€â–¶â”‚   Get New       â”‚â”€â”€â”€â”€â–¶â”‚   Run HDBSCAN    â”‚
â”‚  Models from      â”‚     â”‚ Preprocessed    â”‚     â”‚   Predictions    â”‚
â”‚  Blob Storage     â”‚     â”‚     Data        â”‚     â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                           â”‚
                                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Store Results   â”‚â—€â”€â”€â”€â”€â”‚  Apply Labels   â”‚â—€â”€â”€â”€â”€â”‚  Generate Clusterâ”‚
â”‚   to BigQuery     â”‚     â”‚   & Domains     â”‚     â”‚    Assignments   â”‚
â”‚                   â”‚     â”‚                 â”‚     â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Tech Center Prediction Loop:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FOR EACH TECH CENTER:                                                          â”‚
â”‚                                                                                 â”‚
â”‚ 1. Load current quarter model:                                                 â”‚
â”‚    - hdbscan_clusterer.pkl                                                     â”‚
â”‚    - umap_reducer.pkl                                                          â”‚
â”‚    - labeled_clusters.json                                                     â”‚
â”‚    - domains.json                                                              â”‚
â”‚                                                                                 â”‚
â”‚ 2. Get new preprocessed data:                                                  â”‚
â”‚    WHERE processed_at > last_prediction_time                                   â”‚
â”‚    AND tech_center = 'BT-TC-...'                                              â”‚
â”‚                                                                                 â”‚
â”‚ 3. Run predictions:                                                            â”‚
â”‚    embedding â†’ UMAP transform â†’ HDBSCAN predict                               â”‚
â”‚                                                                                 â”‚
â”‚ 4. Apply labels:                                                               â”‚
â”‚    cluster_id â†’ cluster_topic, domain_name, confidence_score                  â”‚
â”‚                                                                                 â”‚
â”‚ 5. Store predictions:                                                          â”‚
â”‚    INSERT INTO clustering_predictions                                          â”‚
â”‚    (number, predicted_cluster, cluster_topic, domain, confidence_score)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

### STAGE 3: CUMULATIVE TRAINING PIPELINE (SEMI-ANNUAL)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           CUMULATIVE TRAINING FLOW                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Manual Trigger (Every 6 Months)
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  python main.py   â”‚â”€â”€â”€â”€â–¶â”‚  Load 24-Month  â”‚â”€â”€â”€â”€â–¶â”‚   Cumulative     â”‚
â”‚  train --year     â”‚     â”‚  Historical     â”‚     â”‚   Training       â”‚
â”‚  2025 --quarter q2â”‚     â”‚     Data        â”‚     â”‚   Dataset        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                           â”‚
                                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Save to Blob     â”‚â—€â”€â”€â”€â”€â”‚  Create Models  â”‚â—€â”€â”€â”€â”€â”‚   UMAP + HDBSCAN â”‚
â”‚  Storage +        â”‚     â”‚  & Domain       â”‚     â”‚   Training on    â”‚
â”‚  Versioned BigQueryâ”‚     â”‚  Groupings      â”‚     â”‚   24-Month Data  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Cumulative Training Process (24-Month Rolling Window):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CUMULATIVE TRAINING APPROACH:                                                  â”‚
â”‚                                                                                 â”‚
â”‚ Training Schedule (Semi-Annual):                                               â”‚
â”‚ â€¢ June 2025: Train on July 2023 â†’ June 2025 (24 months)                      â”‚
â”‚ â€¢ December 2025: Train on January 2024 â†’ December 2025 (24 months)           â”‚
â”‚ â€¢ June 2026: Train on July 2024 â†’ June 2026 (24 months)                      â”‚
â”‚                                                                                 â”‚
â”‚ Benefits:                                                                       â”‚
â”‚ â€¢ Pattern Stability: Long-term trend capture                                   â”‚
â”‚ â€¢ Seasonal Coverage: Full seasonal cycles included                             â”‚
â”‚ â€¢ Data Richness: Large training datasets for robust models                     â”‚
â”‚ â€¢ Cost Efficiency: Training frequency reduced vs. quarterly                    â”‚
â”‚                                                                                 â”‚
â”‚ FOR EACH TECH CENTER:                                                          â”‚
â”‚                                                                                 â”‚
â”‚ 1. Load 24-month cumulative dataset:                                           â”‚
â”‚    FROM preprocessed_incidents                                                 â”‚
â”‚    WHERE sys_created_on >= '2023-07-01'                                       â”‚
â”‚    AND sys_created_on <= '2025-06-30'                                         â”‚
â”‚    AND tech_center = 'BT-TC-Data Analytics'                                   â”‚
â”‚                                                                                 â”‚
â”‚ 2. Train on large dataset (typically 80k+ incidents):                         â”‚
â”‚    - UMAP dimensionality reduction (1536 â†’ 2D)                                â”‚
â”‚    - HDBSCAN clustering with optimal parameters                                â”‚
â”‚    - Domain grouping (max 20 domains per tech center)                         â”‚
â”‚                                                                                 â”‚
â”‚ 3. Save model artifacts to Azure Blob Storage:                                â”‚
â”‚    hdbscan-models/bt-tc-data-analytics/2025_q2/                               â”‚
â”‚    â”œâ”€â”€ umap_model.pkl         (2.4 MB)                                        â”‚
â”‚    â”œâ”€â”€ hdbscan_model.pkl      (1.8 MB)                                        â”‚
â”‚    â”œâ”€â”€ umap_embeddings.npy    (156.7 MB)                                      â”‚
â”‚    â”œâ”€â”€ cluster_labels.npy     (0.7 MB)                                        â”‚
â”‚    â””â”€â”€ model_metadata.json    (2.1 KB)                                        â”‚
â”‚                                                                                 â”‚
â”‚ 4. Save training results to versioned BigQuery table:                         â”‚
â”‚    clustering_predictions_2025_q2_789                                         â”‚
â”‚    â”œâ”€â”€ incident_number, cluster_id, cluster_label                             â”‚
â”‚    â”œâ”€â”€ domain_id, domain_name                                                 â”‚
â”‚    â”œâ”€â”€ umap_x, umap_y coordinates                                             â”‚
â”‚    â””â”€â”€ model_version, training_timestamp                                      â”‚
â”‚                                                                                 â”‚
â”‚ 5. Link blob storage path to BigQuery metadata                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

## ğŸ”„ COMPLETE SEMI-ANNUAL CYCLE

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          SEMI-ANNUAL OPERATIONAL CYCLE                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  JANUARY - JUNE 2025 (6 MONTHS)                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                             â”‚
â”‚  ğŸ“… Daily: Preprocessing (hourly) + Prediction (2-hourly)                     â”‚
â”‚  ğŸ“Š Using: 2024_q4 models (24-month trained on Jan 2023 â†’ Dec 2024)          â”‚
â”‚  ğŸ’¾ Data: Accumulating in preprocessed_incidents table                        â”‚
â”‚  ğŸ“ˆ Coverage: Full seasonal patterns + trending data                          â”‚
â”‚                                                                                 â”‚
â”‚  JUNE 2025: SEMI-ANNUAL TRAINING                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                            â”‚
â”‚  ğŸ”§ Manual: python training_orchestrator.py --year 2025 --quarter q2          â”‚
â”‚  ğŸ“Š Dataset: July 2023 â†’ June 2025 (24-month cumulative)                     â”‚
â”‚  â±ï¸  Duration: 3-6 hours (larger datasets)                                     â”‚
â”‚  ğŸ“¦ Output: New 2025_q2 models stored in blob storage                         â”‚
â”‚  ğŸ“‹ Results: clustering_predictions_2025_q2_789 BigQuery table                â”‚
â”‚  ğŸ”„ Switch: Functions automatically use 2025_q2 models                        â”‚
â”‚                                                                                 â”‚
â”‚  JULY - DECEMBER 2025 (6 MONTHS)                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                            â”‚
â”‚  ğŸ“… Daily: Preprocessing + Prediction continues                               â”‚
â”‚  ğŸ“Š Using: 2025_q2 models (24-month trained data)                             â”‚
â”‚  ğŸ’¾ Data: More incidents accumulating for next training                       â”‚
â”‚  ğŸ¯ Stability: Robust patterns from large training window                     â”‚
â”‚                                                                                 â”‚
â”‚  DECEMBER 2025: SEMI-ANNUAL TRAINING                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                          â”‚
â”‚  ğŸ”§ Manual: python training_orchestrator.py --year 2025 --quarter q4          â”‚
â”‚  ğŸ“Š Dataset: January 2024 â†’ December 2025 (24-month cumulative)               â”‚
â”‚  ğŸ“¦ Output: New 2025_q4 models                                                â”‚
â”‚  ğŸ“‹ Results: clustering_predictions_2025_q4_456 BigQuery table                â”‚
â”‚                                                                                 â”‚
â”‚  ... cycle continues with 24-month rolling windows ...                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

## ğŸ’¾ DATA STORAGE STRUCTURE

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              BIGQUERY TABLES                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  ğŸ“Š RAW DATA:                                                                  â”‚
â”‚  your-project.your_dataset.incident_table                                     â”‚
â”‚  â”œâ”€â”€ number (STRING)                                                           â”‚
â”‚  â”œâ”€â”€ short_description (STRING)                                                â”‚
â”‚  â”œâ”€â”€ description (STRING)                                                      â”‚
â”‚  â”œâ”€â”€ sys_created_on (TIMESTAMP)                                                â”‚
â”‚  â”œâ”€â”€ tech_center (STRING)                                                      â”‚
â”‚  â””â”€â”€ ... other incident fields                                                 â”‚
â”‚                                                                                 â”‚
â”‚  ğŸ”„ PREPROCESSED DATA:                                                         â”‚
â”‚  your-project.hdbscan_pipeline.preprocessed_incidents                         â”‚
â”‚  â”œâ”€â”€ number (STRING)                                                           â”‚
â”‚  â”œâ”€â”€ sys_created_on (TIMESTAMP)                                                â”‚
â”‚  â”œâ”€â”€ combined_incidents_summary (STRING)                                       â”‚
â”‚  â”œâ”€â”€ embedding (ARRAY<FLOAT64>)                                                â”‚
â”‚  â”œâ”€â”€ tech_center (STRING)                                                      â”‚
â”‚  â””â”€â”€ processed_at (TIMESTAMP)                                                  â”‚
â”‚                                                                                 â”‚
â”‚  ğŸ¯ VERSIONED TRAINING RESULTS:                                                â”‚
â”‚  your-project.hdbscan_pipeline.clustering_predictions_2025_q2_789             â”‚
â”‚  â”œâ”€â”€ incident_number (STRING)                                                  â”‚
â”‚  â”œâ”€â”€ cluster_id (INTEGER)                                                      â”‚
â”‚  â”œâ”€â”€ cluster_label (STRING)                                                    â”‚
â”‚  â”œâ”€â”€ domain_id (INTEGER)                                                       â”‚
â”‚  â”œâ”€â”€ domain_name (STRING)                                                      â”‚
â”‚  â”œâ”€â”€ umap_x (FLOAT64)                                                          â”‚
â”‚  â”œâ”€â”€ umap_y (FLOAT64)                                                          â”‚
â”‚  â”œâ”€â”€ tech_center (STRING)                                                      â”‚
â”‚  â”œâ”€â”€ model_version (STRING)                                                    â”‚
â”‚  â””â”€â”€ training_timestamp (TIMESTAMP)                                            â”‚
â”‚                                                                                 â”‚
â”‚  ğŸ”® LIVE PREDICTIONS:                                                          â”‚
â”‚  your-project.hdbscan_pipeline.incident_predictions                           â”‚
â”‚  â”œâ”€â”€ incident_id (STRING)                                                      â”‚
â”‚  â”œâ”€â”€ predicted_cluster_id (INTEGER)                                            â”‚
â”‚  â”œâ”€â”€ predicted_cluster_label (STRING)                                          â”‚
â”‚  â”œâ”€â”€ predicted_domain_id (INTEGER)                                             â”‚
â”‚  â”œâ”€â”€ predicted_domain_name (STRING)                                            â”‚
â”‚  â”œâ”€â”€ confidence_score (FLOAT64)                                                â”‚
â”‚  â”œâ”€â”€ tech_center (STRING)                                                      â”‚
â”‚  â”œâ”€â”€ prediction_timestamp (TIMESTAMP)                                          â”‚
â”‚  â”œâ”€â”€ model_table_used (STRING)                                                 â”‚
â”‚  â””â”€â”€ blob_model_path (STRING)                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              BLOB STORAGE STRUCTURE                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  hdbscan-models/                                                               â”‚
â”‚  â”œâ”€â”€ bt-tc-data-analytics/                                                     â”‚
â”‚  â”‚   â”œâ”€â”€ 2024_q4/                                                             â”‚
â”‚  â”‚   â”‚   â”œâ”€â”€ umap_model.pkl         (2.4 MB)                                  â”‚
â”‚  â”‚   â”‚   â”œâ”€â”€ hdbscan_model.pkl      (1.8 MB)                                  â”‚
â”‚  â”‚   â”‚   â”œâ”€â”€ umap_embeddings.npy    (156.7 MB)                                â”‚
â”‚  â”‚   â”‚   â”œâ”€â”€ cluster_labels.npy     (0.7 MB)                                  â”‚
â”‚  â”‚   â”‚   â””â”€â”€ model_metadata.json    (2.1 KB)                                  â”‚
â”‚  â”‚   â””â”€â”€ 2025_q2/                                                             â”‚
â”‚  â”‚       â”œâ”€â”€ umap_model.pkl         (2.4 MB)                                  â”‚
â”‚  â”‚       â”œâ”€â”€ hdbscan_model.pkl      (1.8 MB)                                  â”‚
â”‚  â”‚       â”œâ”€â”€ umap_embeddings.npy    (156.7 MB)                                â”‚
â”‚  â”‚       â”œâ”€â”€ cluster_labels.npy     (0.7 MB)                                  â”‚
â”‚  â”‚       â””â”€â”€ model_metadata.json    (2.1 KB)                                  â”‚
â”‚  â”œâ”€â”€ bt-tc-network-operations/                                                 â”‚
â”‚  â”‚   â”œâ”€â”€ 2024_q4/                                                             â”‚
â”‚  â”‚   â””â”€â”€ 2025_q2/                                                             â”‚
â”‚  â”œâ”€â”€ bt-tc-security-operations/                                                â”‚
â”‚  â”‚   â”œâ”€â”€ 2024_q4/                                                             â”‚
â”‚  â”‚   â””â”€â”€ 2025_q2/                                                             â”‚
â”‚  â””â”€â”€ ... (12 more tech centers)                                               â”‚
â”‚                                                                                 â”‚
â”‚  Cost Optimization:                                                            â”‚
â”‚  â€¢ Model artifacts: ~161.6 MB per tech center per version                     â”‚
â”‚  â€¢ No embedding duplication across tables                                      â”‚
â”‚  â€¢ Efficient versioned storage with clear lineage                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

## â° TIMELINE EXAMPLE: ONE WEEK OPERATIONS

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           WEEKLY OPERATIONS TIMELINE                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

MONDAY, 10:00 AM
â”œâ”€â”€ [Function] Preprocessing: 127 new incidents across 15 tech centers
â”œâ”€â”€ [Function] Prediction: 98 incidents classified using Q3 2024 models
â””â”€â”€ [Storage] Data stored in BigQuery + monitoring logs

MONDAY, 11:00 AM  
â”œâ”€â”€ [Function] Preprocessing: 89 new incidents processed
â””â”€â”€ [Function] (No prediction - runs every 2 hours)

MONDAY, 12:00 PM
â”œâ”€â”€ [Function] Preprocessing: 156 new incidents processed  
â”œâ”€â”€ [Function] Prediction: 245 incidents classified (from 11:00 + 12:00)
â””â”€â”€ [Storage] Updated prediction results in BigQuery

... continues every hour/2 hours ...

TUESDAY through SUNDAY
â”œâ”€â”€ Same automated pattern continues 24/7
â”œâ”€â”€ Total week: ~15,000 incidents processed
â”œâ”€â”€ Total week: ~12,000 predictions made
â””â”€â”€ Zero human intervention required

END OF QUARTER (Manual Intervention)
â”œâ”€â”€ Data Scientist connects to Azure VM
â”œâ”€â”€ Executes: python main_enhanced.py train --year 2024 --quarter q4
â”œâ”€â”€ Monitors parallel training: 4 hours total
â”œâ”€â”€ New Q4 models saved to Blob Storage
â”œâ”€â”€ Functions automatically switch to Q4 models
â””â”€â”€ Cycle continues with updated models

## ğŸ”„ ERROR HANDLING & RECOVERY

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ERROR HANDLING FLOW                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Preprocessing Function Error:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API Timeout   â”‚â”€â”€â”€â–¶â”‚   Retry Logic   â”‚â”€â”€â”€â–¶â”‚  Partial Save   â”‚
â”‚   Rate Limit    â”‚    â”‚   (3 attempts)  â”‚    â”‚   Continue Next â”‚
â”‚   Network Error â”‚    â”‚                 â”‚    â”‚   Tech Center   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                        â”‚                        â”‚
        â–¼                        â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Log Error     â”‚    â”‚   Alert Admin   â”‚    â”‚   Update Status â”‚
â”‚   Application   â”‚    â”‚   via Email     â”‚    â”‚   for Monitoringâ”‚
â”‚   Insights      â”‚    â”‚                 â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Prediction Function Error:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Model Missing  â”‚â”€â”€â”€â–¶â”‚ Load Previous   â”‚â”€â”€â”€â–¶â”‚  Continue with  â”‚
â”‚  Blob Storage   â”‚    â”‚ Quarter Model   â”‚    â”‚  Fallback Model â”‚
â”‚  Connection     â”‚    â”‚                 â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Training Pipeline Error:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tech Center 5   â”‚â”€â”€â”€â–¶â”‚   Skip Failed   â”‚â”€â”€â”€â–¶â”‚   Continue      â”‚
â”‚ Training Failed â”‚    â”‚   Continue with â”‚    â”‚   Training 6-15 â”‚
â”‚                 â”‚    â”‚   Others        â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

## ğŸ“Š MONITORING & METRICS

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              MONITORING DASHBOARD                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Real-time Metrics:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PREPROCESSING PIPELINE                                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚ â”‚  Incidents  â”‚ â”‚ Execution   â”‚ â”‚  Success    â”‚ â”‚   Error     â”‚               â”‚
â”‚ â”‚ Per Hour    â”‚ â”‚   Time      â”‚ â”‚    Rate     â”‚ â”‚    Rate     â”‚               â”‚
â”‚ â”‚     127     â”‚ â”‚   8.5 min   â”‚ â”‚    99.2%    â”‚ â”‚    0.8%     â”‚               â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                                 â”‚
â”‚ PREDICTION PIPELINE                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚ â”‚ Predictions â”‚ â”‚ Execution   â”‚ â”‚ Confidence  â”‚ â”‚  Model      â”‚               â”‚
â”‚ â”‚  Per 2Hr    â”‚ â”‚   Time      â”‚ â”‚   Score     â”‚ â”‚ Version     â”‚               â”‚
â”‚ â”‚     245     â”‚ â”‚  12.3 min   â”‚ â”‚    0.87     â”‚ â”‚  2024-Q3    â”‚               â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                                 â”‚
â”‚ TRAINING PIPELINE                                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚ â”‚ Last Train  â”‚ â”‚   Status    â”‚ â”‚ Tech Centersâ”‚ â”‚  Next Due   â”‚               â”‚
â”‚ â”‚    Date     â”‚ â”‚             â”‚ â”‚ Successful  â”‚ â”‚    Date     â”‚               â”‚
â”‚ â”‚ 2024-09-30  â”‚ â”‚  Complete   â”‚ â”‚   15/15     â”‚ â”‚ 2024-12-31  â”‚               â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Cost Tracking:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MONTHLY COSTS (USD)                                                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚ â”‚ Preprocessing   â”‚ â”‚   Prediction    â”‚ â”‚    Training     â”‚                   â”‚
â”‚ â”‚   Functions     â”‚ â”‚   Functions     â”‚ â”‚      VM         â”‚                   â”‚
â”‚ â”‚      $45        â”‚ â”‚     $165        â”‚ â”‚      $25        â”‚                   â”‚
â”‚ â”‚ (Consumption)   â”‚ â”‚   (Premium)     â”‚ â”‚ (8 hrs/6months) â”‚                   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚ â”‚  Blob Storage   â”‚ â”‚    BigQuery     â”‚ â”‚     Total       â”‚                   â”‚
â”‚ â”‚  (Models/Logs)  â”‚ â”‚  (Data/Queries) â”‚ â”‚   Monthly       â”‚                   â”‚
â”‚ â”‚      $30        â”‚ â”‚      $85        â”‚ â”‚     $350        â”‚                   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

## ğŸ¯ SUMMARY: END-TO-END FLOW

1. â° **HOURLY**: New incidents detected â†’ text summarized â†’ embeddings generated
2. â° **2-HOURLY**: Embeddings classified â†’ clusters assigned â†’ results stored  
3. â° **SEMI-ANNUAL**: 24-month cumulative data retrained â†’ new versioned models â†’ automatic deployment
4. ğŸ“Š **CONTINUOUS**: Monitoring metrics â†’ error handling â†’ cost optimization
5. ğŸ‘¥ **TEAM**: Automated operations + semi-annual manual training supervision

KEY BENEFITS OF CUMULATIVE APPROACH:
- ğŸ¯ **Pattern Stability**: 24-month windows capture long-term trends
- ğŸ’° **Cost Reduction**: ~50% storage costs through versioned architecture  
- ğŸ”„ **Model Versioning**: Clear lineage and rollback capabilities
- ğŸ“ˆ **Robust Training**: Large datasets (80k+ incidents) for better accuracy
- â±ï¸ **Reduced Frequency**: Semi-annual vs. quarterly training reduces overhead

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              END OF FLOW ILLUSTRATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•